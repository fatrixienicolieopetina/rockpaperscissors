<!DOCTYPE html>
<head>
    <script>
        var options = ["rock", "paper", "scissors"];

        var playerScore = 0;
        var computerScore = 0;

        function computerPlay () {
            let randomIndex = Math.floor(Math.random() * 3);
            
            return options[randomIndex];
        }

        function playRound(playerSelection, computerSelection) {

            let lowerCasePlayerSelection = playerSelection.toLowerCase();
            let lowerCaseComputerSelection = computerSelection.toLowerCase();

            if(!options.includes(lowerCasePlayerSelection)) {
                return "Invalid option";
            }

            let playerSelectionIntValue = determineSelection(playerSelection);
            let computerSelectionIntValue = determineSelection(computerSelection);

            let difference = playerSelectionIntValue - computerSelectionIntValue;

            if(difference == 0) return "Tie";
            else if (difference == -1 || difference == 2) {
                computerScore = computerScore + 1;
                return `You lose. ${computerSelection} beats ${playerSelection}`;
            } else if(difference == 1 || difference == -2) {
                playerScore = playerScore + 1;
                return `You win. ${playerSelection} beats ${computerSelection}`;
            }

        }

        function determineSelection(selection) {
            if(selection === "rock") return 0;
            else if(selection === "paper") return 1;
            else if (selection === "scissors") return 2;
        }

        function game() {

            for(let i = 0; i < 5; i++) {
                let playerSelection = prompt('Enter choice: ');
                const computerSelection = computerPlay();

                console.log(playRound(playerSelection, computerSelection));
            }

            if(computerScore == playerScore) {
                console.log("It is a tie");
            } else if(computerScore > playerScore) {
                console.log("Computer wins!");
            } else {
                console.log("You win!");
            }
        }

        game();
        
    </script>
</head>